В системе имеются Операторы
Роли Операторов - superAdmin (Разрешено все делать)

Операторы могут выполнять операции связанные с МЕССЕНДЖЕРОМ:
    Заведение пользователей
        OU - дерево (как импорт через заявки так и в ручном режиме)
        Импорт пользователей в определенном формате (csv)
        Заведение пользователей в ручном режиме
     Измененение данных пользователей
        Сброс (изменение) пароля
        Блокировка (разблокировка)
        Редактирование (ФИO, Должность, Телефон)
        Перенос между ОU (ручная операция)
    Заведение рабочей группы
    Заведение Организации (Ведомства)


Заявки - требующие одобрения

Действия связанные с управлением ПОРТАЛОМ
    Добавление пользователей и связывание его с определенным уровнем OU
    Связывание пользователя с определенной Ролью + возможно выдача ему определенных дополнительных разрешений
    Заведение и редактирование Ролей
    Ведение раздела часто задаваемые вопросы + поиск по данному разделу
    Ответы пользователям (helpdesk)

Роли
    superAdmin
    departmentAdmin
    organizarionAdmin



Разрешения

    edit.tree (+ галочка approve)

Вычисление прав пользователя

Система заявок
    Поля (Subject, Description, Status, Last Updated, Время создания, Owner, Agent, Keм Одобрено, Некое json поле с тем что нужно сделать)
    Некий пользователь создает заявку в автоматическом режиме (например редактирование дерева)
    Заявка должна попасть на уровень выше или прямо к Оператору
    Пользователь на более высоком уровне может в любое время либо отменить заявку либо одобрить
    Нужно иметь возможность посмотреть как будет выглядеть то что хочет сделать более низкий уровень
    Нужно иметь возможность Владельцу написать комментарий к заявке
    При отклонении заявки изменяется статус заявки и нужно указать Комментарий  и заявка далее не идет






В системе имеются Админы ведомств (orgAdmin) (верхний уровень в OU) (МЕССЕНДЖЕР)
 Базовые операции проводятся через заявки или автономно
 Операции могут быть как групповыми так и одиночными
 Операции могут быть как требующие одобрения так и выполнямые автономно (зависит от настроек роли)
    Добавление (Редактирование дерева) - approve
    Добавление пользователей - approve
    Блокировка пользователей
    Редактирование пользователей
    Перемещение между OU
    Сменить пароль пользователя
    Формирование рабочей группы

 Видеть заявки на approve. Информировать если заявка была кем то взята в производство
 Возможность добавлять администраторов нижних уровней

01.03
Выдача Ролей
1. Создать объект возвращающий дерево по уровням
2. Написать Команду возращающую дерево по уровням protobuf
3. Перевести Permissions на русский (+)
4. Реализовать Создание редактирование ролей
5. Написать тесты
6. Опробовать новый пакет для таблиц




#######################
Создание/Редактирование ролей

Список разрешений
Разрешение можно выбрать или убрать
У разрешения есть дополнительные аттрибуты (например с одобрения)
При щелчке правой кнопкой мыши появляется меню с аттрибутами (галочками)
С каждым аттрибутом связана своя иконка (которая показывается справа от разрешения) в случае если аттрибут установлен



#######################
Выдача прав



#######################
Редактирование структуры:
    Появляется имеющееся дерево
    Корневой Элемент (удалить нельзя)
    Выделить Элемент (рядом появляется +) при щелчке на котором Открывается Окно с Добавлением Узла
    В случае если узел был добавлен, то он может быть удален (появляется как + так и -).
    Удален может быть только узел без пользователей
    Добавленные узлы добавляются зеленым цветом (другим)
    Удаленные затеняются (можно отменить удаление)
    Перемещенные выделяются оранжевым цветом

    Внизу в табличке (ID, Название, Корневой узел, Действие)

    Справа показывается форма - с выбранным узлом
    Здесь можно отредактировать название узла
        Внизу кнопка справа Изменить

    При нажатии на кнопку Добавить  из csv файла (Название, Корневой узел).
    Данные добавляются в дерево и в таблицу с пометкой added

    Approve - {added, deleted, edited, moved}


#######################
Пользователи
        Появляется табличка  - Login, Фамилия Имя Отчество Должность Email Телефон OU
        Вверху кнопка создать пользователя - по которой осуществляется переход на страницу добавления пользователей
        В таблице можно поискать пользователя по определенным полям (login, Фамилия)
        Можно перейти на его логине на страницу где можно отредактировать пользователя и изменить ему пароль

    Создание
        Экран разделен на 2 части (слева и справа).
        В случае если экран маленький, то вверху таблица с пользователями а внизу форма
        Слева таблица с пользователями на добавление
            Над таблицей кнопка Выбрать OU
            Под таблицей справа кнопка Создать
        Справа форма с полями на добавление.
            Под формой  находится кнопка Добавить
                После нажатия на кнопку - пользователи попадают в таблицу
                Справа появляется возможность удалить пользователя из таблицы
            Форма добавления очищается
        При нажатии на кнопку Создать
            Создается заявка и отправляется на выполнение
            Таблица очищается

        Над формой добавления есть кнопка добавить из файла
            Разрешенный формат csv.
                Последовательность полей совпадает с полями таблицы
                Можно указать OU (его имя)
        После подгрузки пользователи появляются в таблице
        В случае если такие OU найдены (имя ===  имя && count(имя) == 1)
        Строки таблицы можно выделить
            Станет активной кнопка Выбрать OU
                После нажатия на кнопку Появится дерево с выбором OU
                    После выбора в таблице напротив выбранных полей будут указаны OU
        После нажатия на кнопку ОК

###########################
Редактирование пользователей
    Экран разделен на 2 части (слева и справа).
    В случае если экран маленький, то вверху форма с личными данными а внизу форма со сменой пароля
    Слева форма с Фамилией ... OU
        Можно выбрать несколько OU
    Над формой кнопка Блокировать или Разблокировать
    Справа форма для изменения пароля пользователя

###########################
Перемещение/Копирование
        Экран разделен на 3 части (слева, справа, снизу).
        Слева дерево OU
        Справа список пользователей в Данном OU (таблица)
            Пользователей можно поискать и выделить
            Внизу находится 2 кнопки (Копировать, Переместить)
            Кнопки можно перетащить на дерево

        Под списком пользователей (находится еще одна таблица)
            Таблица содержит поля Login, Фамилия, Действие, Откуда, Куда
            Строку можно удалить из таблицы
            Внизу находится кнопка Подтвердить операцию
                После нажатия кнопки отсылается заявка
                Список пользователей очищается
                Выдается сообщение что заявка принята

###########################
Блокировка
        Экран разделен на 2 части (слева и справа).
         В случае если экран маленький, то вверху таблица с выбранными пользователями, а внизу таблица с пользователями

        Слева таблица с пользователями на блокировку (выбранные)
            Строку в таблице можно удалить
            Под таблицей находится Кнопка Блокировать
                После нажатия кнопки отсылается заявка
                Список пользователей очищается
                Выдается сообщение что заявка принята

        Справа таблица - Login, Фамилия Имя Отчество Должность Email Телефон OU
            Вверху кнопка Добавить к выделенным
            В таблице можно поискать пользователя по определенным полям (login, Фамилия)
            Строку в таблице можно выделить и добавить к выбранным

#############################
Заявки
    Отправленные
        Таблица с полями
            Номер заявки Статус Тема Дата обновления CreatedBy ModifyBy
            Тема является ссылкой на страницу с заявкой
                Можно перейти на заявку и отменить ее.


    Ожидающие одобрения
            Номер заявки Статус Тема Дата обновления CreatedBy ModifyBy
            Тема является ссылкой на страницу с заявкой
                Можно перейти на заявку и одобрить ее (изменится поле ModifyBy)
                    Владельцу заявки приходит уведомление
    Выполненные
        Таблица с полями
            Номер заявки Статус Тема Дата Исполнения ModifyBy


#############################
 Обратная связь
    Админы ведомств могут писать Операторам по неясным вопросам и получать ответы
#############################

Логи

#############################
Javascript
https://github.com/vmaimone/vue-context-menu
https://rawilk.github.io/vue-context
https://github.com/jgile/vue-csv-import/blob/master/src/components/VueCsvImport.vue
https://zdy1988.github.io/vue-jstree








